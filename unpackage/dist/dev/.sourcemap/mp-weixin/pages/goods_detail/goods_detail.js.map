{"version":3,"sources":["uni-app:///main.js","webpack:///E:/project/wechat-mini-program/pages/goods_detail/goods_detail.vue?2cd1","webpack:///E:/project/wechat-mini-program/pages/goods_detail/goods_detail.vue?823a","webpack:///E:/project/wechat-mini-program/pages/goods_detail/goods_detail.vue?a2c9","webpack:///E:/project/wechat-mini-program/pages/goods_detail/goods_detail.vue?fb93","uni-app:///pages/goods_detail/goods_detail.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iH;AACAA,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;;;AAG3D;AACmM;AACnM,gBAAgB,wMAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA4vB,CAAgB,6vBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiDhxB;;AAEA,6G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ywEAOA,gE,eACA,EACA,cACA,qBADA,EAEA,yBAFA,EAGA,mBAHA,EAIA,8BAJA,EAKA,kCALA,EAMA,2CANA,EAOA,+CAPA,EADA,EAUA,IAVA,kBAUA,CACA,SACA,gBADA,EAEA,gBAFA,EAEA;AACA,kBAHA,EAGA;AACA,yBAJA,GAMA,CAjBA,EAkBA,MAlBA,kBAkBA,MAlBA,EAkBA,CACA,oBACA,yBACA,cADA,EAEA,iBAFA,EAGA,cAHA,IAKA,iDACA,4CACA,+BACA,8BACA,CA7BA,EA8BA,SACA,YACA,OADA,mBACA,GADA,EACA,MADA,EACA,CACA,oBACA,CAHA,EADA,EA9BA,EAqCA,WACA,cADA,0BACA,QADA,EACA,kBACA,sCACA,kBADA,IAEA,IAFA,CAEA,gBACA;AACA,6CADA;AAEA;AACA;AACA;AACA,OARA,EAQA,KARA,CAQA;AACA;AACA,OAVA;AAWA,KAbA;AAcA;AACA,WAfA,mBAeA,YAfA,EAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,2BAFA;;AAIA,OAPA,MAOA;AACA;AACA;AACA;AACA,wBADA;AAEA,2BAFA;;AAIA;AACA;AACA,KApCA;AAqCA;AACA,WAtCA,qBAsCA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,yBAFA;;AAIA;AACA;AACA,KA7DA;AA8DA;AACA,WA/DA,qBA+DA;AACA;AACA;AACA,8DADA;;AAGA,KApEA,EArCA,E","file":"pages/goods_detail/goods_detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/goods_detail/goods_detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods_detail.vue?vue&type=template&id=706a1a46&\"\nvar renderjs\nimport script from \"./goods_detail.vue?vue&type=script&lang=js&\"\nexport * from \"./goods_detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods_detail/goods_detail.vue\"\nexport default component.exports","export * from \"-!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods_detail.vue?vue&type=template&id=706a1a46&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods_detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\下载\\\\HBuilderX.2.6.0.20200223\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods_detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"goods-detail\">\r\n\t\t<!-- 轮播图 -->\r\n\t\t<swiper class=\"swiper\" :indicator-dots=\"true\" :autoplay=\"true\" :interval=\"2500\" :duration=\"500\" circular=\"true\"\r\n\t\t indicator-active-color=\"#DC4D41\" indicator-color=\"white\" v-if=\"goods_detail.pics.length > 0\">\r\n\t\t\t<swiper-item v-for=\"item in goods_detail.pics\" :key=\"item.pics_id\">\r\n\t\t\t\t<image :src=\"item.pics_mid_url\" class=\"swiper-img\"></image>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\t\t<image v-else src=\"https://ww1.sinaimg.cn/large/007rAy9hgy1g24by9t530j30i20i2glm.jpg\" width=\"100%\"></image>\r\n\t\t<view class=\"detail-title\">\r\n\t\t\t<view class=\"title-price\">\r\n\t\t\t\t<view class=\"price-left\">\r\n\t\t\t\t\t<text class=\"price-icon\">￥</text>\r\n\t\t\t\t\t<text class=\"price-number\">{{goods_detail.goods_price}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price-right\">\r\n\t\t\t\t\t<image src=\"../../static/collect.png\" @tap=\"collect(goods_detail)\" v-if=\"isCollect == false\"></image>\r\n\t\t\t\t\t<image src=\"../../static/collect-active.png\" @tap=\"collect(goods_detail)\" v-if=\"isCollect == true\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"title-name\">{{goods_detail.goods_name}}</view>\r\n\t\t</view>\r\n\t\t<view class=\"divider\"></view>\r\n\t\t<van-divider contentPosition=\"center\">详情</van-divider>\r\n\t\t<view class=\"specification\">\r\n\t\t\t<view class=\"specification-title\">规格参数</view>\r\n\t\t\t<van-cell-group>\r\n\t\t\t\t<van-cell v-for=\"item in goods_detail.attrs\" :key=\"item.attr_id\" :title=\"item.attr_name\" :value=\"item.attr_vals\" />\r\n\t\t\t</van-cell-group>\r\n\t\t\t<view class=\"rich-text\">\r\n\t\t\t\t<rich-text :nodes=\"goods_detail.goods_introduce\"></rich-text>\r\n\t\t\t</view>\r\n\t\t\t<image :src=\"item.pics_mid_url\" v-for=\"item in goods_detail.pics\" :key=\"item.pics_id\" class=\"specification-image\"></image>\r\n\t\t</view>\r\n\t\t<van-toast id=\"van-toast\" />\r\n\t\t<view class=\"goods-action\"></view>\r\n\t\t<van-goods-action>\r\n\t\t\t<van-goods-action-icon icon=\"chat-o\" text=\"客服\" />\r\n\t\t\t<navigator url=\"../cart/cart\" open-type=\"switchTab\">\r\n\t\t\t\t<van-goods-action-icon icon=\"cart-o\" text=\"购物车\" :info=\"cartList_length\"/>\r\n\t\t\t</navigator>\r\n\t\t\t<van-goods-action-button text=\"加入购物车\" type=\"warning\"  @tap=\"addCart\"/>\r\n\t\t\t<van-goods-action-button text=\"立即购买\" @tap=\"goOrder\"/>\r\n\t\t</van-goods-action>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport './goods_detail.css'\r\n\timport vanToast from '../../wxcomponents/vant/dist/toast/index'\r\n\timport Toast from '../../wxcomponents/vant/dist/toast/toast'\r\n\timport vanDivider from '../../wxcomponents/vant/dist/divider/index'\r\n\timport vanCell from '../../wxcomponents/vant/dist/cell/index'\r\n\timport vanCellGroup from '../../wxcomponents/vant/dist/cell-group/index'\r\n\timport vanGoodsAction from '../../wxcomponents/vant/dist/goods-action/index'\r\n\timport vanGoodsActionIcon from '../../wxcomponents/vant/dist/goods-action-icon/index'\r\n\timport vanGoodsActionButton from '../../wxcomponents/vant/dist/goods-action-button/index'\r\n\tconst api = require('../../utils/request.js')\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\t'van-toast': vanToast,\r\n\t\t\t'van-divider': vanDivider,\r\n\t\t\t'van-cell': vanCell,\r\n\t\t\t'van-cell-group': vanCellGroup,\r\n\t\t\t'van-goods-action': vanGoodsAction,\r\n\t\t\t'van-goods-action-icon': vanGoodsActionIcon,\r\n\t\t\t'van-goods-action-button': vanGoodsActionButton\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgoods_detail: [],\r\n\t\t\t\tisCollect: false,//是否收藏\r\n\t\t\t\tcartList:[],//购物车\r\n\t\t\t\tcartList_length:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tconsole.log(option)\r\n\t\t\tToast.loading({\r\n\t\t\t\tmessage: '加载中',\r\n\t\t\t\tforbidClick: true,\r\n\t\t\t\tduration: 1000\r\n\t\t\t});\r\n\t\t\tthis.cartList = uni.getStorageSync('cart') || []\r\n\t\t\tthis.cartList_length = this.cartList.length\r\n\t\t\tlet goods_id = option.goods_id\r\n\t\t\tthis.getGoodsDetail(goods_id)\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tcartList:{\r\n\t\t\t\t  handler(val, oldVal){\r\n\t\t\t\t        this.cartList = val\r\n\t\t\t\t },\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetGoodsDetail(goods_id) {\r\n\t\t\t\tapi.request('/goods/detail', 'GET', {\r\n\t\t\t\t\tgoods_id: goods_id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tres.data.message.goods_introduce=res.data.message.goods_introduce.replace(/\\.webp/g, '.jpg'),\r\n\t\t\t\t\tthis.goods_detail = res.data.message\r\n\t\t\t\t\tlet collect = uni.getStorageSync('collect') || []\r\n\t\t\t\t\tlet isCollect = collect.some((v) => v.goods_id === this.goods_detail.goods_id)\r\n\t\t\t\t\tthis.isCollect = isCollect\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//收藏\r\n\t\t\tcollect(goods_detail) {\r\n\t\t\t\tconsole.log(goods_detail)\r\n\t\t\t\t//商品是否收藏\r\n\t\t\t\tlet collect = uni.getStorageSync('collect') || []\r\n\t\t\t\tlet index = collect.findIndex((v) => v.goods_id === this.goods_detail.goods_id)\r\n\t\t\t\tif (this.isCollect == false) {\r\n\t\t\t\t\tcollect.push(this.goods_detail)\r\n\t\t\t\t\tthis.isCollect = true\r\n\t\t\t\t\tToast.success({\r\n\t\t\t\t\t\tmessage: '收藏成功',\r\n\t\t\t\t\t\tforbidClick: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcollect.splice(index, 1)\r\n\t\t\t\t\tthis.isCollect = false\r\n\t\t\t\t\tToast.success({\r\n\t\t\t\t\t\tmessage: '已取消',\r\n\t\t\t\t\t\tforbidClick: true,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tuni.setStorageSync('collect', collect)\r\n\t\t\t},\r\n\t\t\t//加入购物车\r\n\t\t\taddCart(){\r\n\t\t\t\t//查询缓存中的购物车信息\r\n\t\t\t\tlet cart = uni.getStorageSync('cart') || [] \r\n\t\t\t\t//商品是否在购物车\r\n\t\t\t\t let index = cart.findIndex((v) => {\r\n\t\t\t\t      return v.goods_id === this.goods_detail.goods_id\r\n\t\t\t\t    })\r\n\t\t\t\t//如果为-1 则购物车里没有该商品\r\n\t\t\t\tif(index === -1){\r\n\t\t\t\t\tthis.goods_detail.num = 1\r\n\t\t\t\t\tthis.goods_detail.checked = true\r\n\t\t\t\t\tcart.push(this.goods_detail) \r\n\t\t\t\t}else{\r\n\t\t\t\t\tcart[index].num++\r\n\t\t\t\t}\r\n\t\t\t\t//存入缓存\r\n\t\t\t\tuni.setStorageSync('cart',cart)\r\n\t\t\t\tToast.success({\r\n\t\t\t\t\tmessage:'已加入购物车',\r\n\t\t\t\t\tforbidClick:true\r\n\t\t\t\t})\r\n\t\t\t\tthis.cartList = uni.getStorageSync('cart')\r\n\t\t\t\tthis.cartList_length = this.cartList.length\r\n\t\t\t},\r\n\t\t\t//下单\r\n\t\t\tgoOrder(){\r\n\t\t\t\tconsole.log(this.goods_detail)\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'../order/order?id='+this.goods_detail.goods_id\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}